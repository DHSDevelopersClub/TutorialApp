<!-- An individual grades card.
Author: Sebastian Boyd
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="/res/components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/res/components/core-icons/core-icons.html">
<link rel="import" href="/res/components/chart-elements/chart-elements.html">
<link rel="import" href="/res/components/core-collapse/core-collapse.html">


<polymer-element name="local-grades-card" attributes="data">
    <template>
        <link rel="stylesheet" type="text/css" href="local-grades-card.css">
        <link rel="stylesheet" type="text/css" href="/res/components/sortable-table/css/bootstrap.css" shim-shadowdom>


        <paper-shadow id="card" z="1">
            <div layout vertical>
              <div id="head" on-click="{{toggleAssignments}}" horizontal layout center>
                <div flex>{{data.title}}</div>
                <div id="letter">{{data.grade_letter}}</div>
                <div>{{data.grade_percent}}%</div>
                <paper-icon-button icon="trending-up" on-tap="" style="display:none;"></paper-icon-button>
              </div>
              <core-collapse id="gradesCollapse">
                <sortable-table class="bootstrap" data="{{data.grade_table}}">
                  <sortable-column name="category">Category</sortable-column>
                  <sortable-column name="score">Score</sortable-column>
                  <sortable-column name="max_score">Total</sortable-column>
                  <sortable-column name="percent">Percentage</sortable-column>
                  <sortable-column name="weight">Weight</sortable-column>
                  <sortable-column name="weighted_points">Weighted Score</sortable-column>
                </sortable-table>
              </core-collapse>
              <core-collapse id="tableCollapse">
                <sortable-table class="bootstrap" id="table" data="{{data.assignments}}">
                	<sortable-column name="title">Assignment</sortable-column>
                	<sortable-column name="date_assigned">Assigned</sortable-column>
                	<sortable-column name="date_due">Due</sortable-column>
                	<sortable-column name="score">Score</sortable-column>
                  <sortable-column name="max_score">Total</sortable-column>
                  <sortable-column name="category">Category</sortable-column>
                </sortable-table>
              </core-collapse>
            </div>
        </paper-shadow>
    </template>

    <script>
      Polymer({
        ready: function() {
          this.chartdata = "[ [10,14,20,25,13,9,40] ]"
        },
        toggleAssignments: function() {
          this.$.tableCollapse.toggle();
        },
        toggleGrades: function() {
          this.$.gradesCollapse.toggle();
        },
      });
    </script>
</polymer-element>
