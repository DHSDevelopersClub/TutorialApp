<!-- Display the current date.

Has data bound published property "date" with the date being displayed.  `date`
is a string in the format "yyyy-mm-dd".  The date displayed should look like
"Wednesday, January 7".  Right now, the date cannot be changed.

Author: Max Starr, Alexander Otavka
-->

<link rel="import" href="../polymer/polymer.html">

<polymer-element name="local-date-spinner" attributes="date">
    <template>
        <style>
            #dateContainer {
                font-weight: 300;
            }
        </style>

        <template if="{{date}}">
            <div id="dateContainer">{{dayStr}}, {{month}} {{dayNum}}</div>
        </template>
    </template>

    <script>
        (function () {
            var MONTHS = ["January", "Febuary", "March", "April", "May", "June", "July",
                              "August", "September", "October", "November", "December"];
            var DAYS = ["Sunday", "Monday", "Tuesday", "Wednessday", "Thursday", "Friday",
                        "Saturday"];

            Polymer({
                date: "",

                dateChanged: function() {
                    var dateArr = this.date.split("-");
                    var dateObj = new Date(
                        Number(dateArr[0]), Number(dateArr[1]) - 1, Number(dateArr[2]));
                    this.dayStr = DAYS[dateObj.getDay()];
                    this.month = MONTHS[Number(dateArr[1]) - 1];
                    this.dayNum = dateArr[2];
                },
            });
        })();
    </script>
</polymer-element>
