<!DOCTYPE html>
<!-- Main page for web client.

Implement the action bar with search.  Use `history.pushState(...)` and
`history.replaceState(...)` when the user is searching so the search state is
always saved.  See
`https://developer.mozilla.org/en-US/docs/Web/Guide/API/DOM/Manipulating_the_browser_history`
and `https://developer.mozilla.org/en-US/docs/WindowEventHandlers.onpopstate`
for more on history manipulation.

Include the `local-date-spinner` and the `local-classroom-manager` element in
content area.

Author: Alexander Otavka
-->

<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Signed - Drake High School</title>

        <!-- Polymer setup. -->
        <script src="/res/components/webcomponentsjs/webcomponents.min.js"></script>
        <link rel="import" href="res/components/polymer/polymer.html" />

        <!-- Imports to third party components. -->
        <link rel="import" href="/res/components/font-roboto/roboto.html" />
        <link rel="import" href="/res/components/core-animation/core-animation.html" />
        <link rel="import" href="/res/components/core-animation/core-animation-group.html" />
        <link rel="import" href="/res/components/core-icons/core-icons.html" />
        <link rel="import" href="/res/components/core-toolbar/core-toolbar.html" />
        <link rel="import" href="/res/components/paper-icon-button/paper-icon-button.html" />

        <!-- Imports to local components at /res/components/local-*. -->
        <link rel="import"
              href="/res/components/local-classroom-manager/local-classroom-manager.html" />
        <link rel="import" href="/res/components/local-date-spinner/local-date-spinner.html" />
        <link rel="import" href="/res/components/local-search-bar/local-search-bar.html" />

        <!-- Local stylesheets and JavaScript. -->
        <link rel="stylesheet" type="text/css" href="/res/web_client/main.css" shim-shadowdom />
    </head>

    <body unresolved fullbleed vertical layout>
        <template id="app" is="auto-binding">
            <core-toolbar id="actionBar">
                <div id="navWrapper" class="noselect">
                    <div id="navTitle" class="title">Signed</div>
                    <div id="navBack" horizontal center layout hidden>
                        <paper-icon-button id="backButton" icon="arrow-back"
                                           on-tap="{{disableSearchMode}}">
                        </paper-icon-button>
                        <div id="navBackText" class="title">Search</div>
                    </div>
                </div>

                <local-search-bar id="searchBar" flex search="{{search}}"
                                  on-search-mode-enable="{{enableSearchMode}}">
                </local-search-bar>

                <div id="actionButtons" class="noselect">
                    <paper-icon-button id="refreshButton" icon="refresh"
                                       on-tap="{{refresh}}">
                    </paper-icon-button>
                    <paper-icon-button id="moreButton" icon="more-vert"
                                       on-tap="{{inflateMoreMenu}}">
                    </paper-icon-button>
                </div>
            </core-toolbar>

            <div id="contentWrapper" vertical center layout>
                <div id="contentArea" vertical layout>
                    <local-date-spinner date="{{date}}"></local-date-spinner>
                    <local-classroom-manager id="classroomManager"
                                             search="{{search}}"
                                             date="{{date}}">
                    </local-classroom-manager>
                </div>
            </div>

            <core-media-query id="mediaMobile"
                              query="max-width: 640px"
                              queryMatches="{{mediaMobile}}"
                              on-core-media-change="{{onMediaMobileChange}}">
            </core-media-query>
        </template>

        <script type="text/javascript" src="/res/web_client/app.js"></script>
    </body>
</html>
